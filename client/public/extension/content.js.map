{
  "version": 3,
  "sources": ["../../../extension_src/content.ts"],
  "sourcesContent": ["// Segnala la presenza dell'estensione alla pagina web tramite attributo DOM\n// Pi\u00F9 sicuro e compatibile con le CSP restrittive\ndocument.documentElement.setAttribute('data-gromit-bridge-active', 'true');\nconsole.log('[GromitBridge] Content Script inizializzato.');\n\n// --- SESSION LIFECYCLE MANAGEMENT ---\n// Establish a long-lived connection to keep the extension context alive (and detect closure)\nconst sessionPort = chrome.runtime.connect({ name: \"GROMIT_SESSION\" });\n\n// In ascolto di eventi dalla pagina web\nwindow.addEventListener('GROMIT_BRIDGE_REQUEST', (event: any) => {\n    const { detail, requestId } = event.detail;\n\n    // Inoltra il messaggio al background script dell'estensione\n    chrome.runtime.sendMessage(detail, (response) => {\n        // Restituisce la risposta alla pagina web tramite un altro evento\n        window.dispatchEvent(new CustomEvent('GROMIT_BRIDGE_RESPONSE', {\n            detail: { response, requestId }\n        }));\n    });\n});\n\nconsole.log('[GromitBridge] Content Script attivo e pronto. Session Port aperta.');\n"],
  "mappings": ";AAEA,SAAS,gBAAgB,aAAa,6BAA6B,MAAM;AACzE,QAAQ,IAAI,8CAA8C;AAI1D,IAAM,cAAc,OAAO,QAAQ,QAAQ,EAAE,MAAM,iBAAiB,CAAC;AAGrE,OAAO,iBAAiB,yBAAyB,CAAC,UAAe;AAC7D,QAAM,EAAE,QAAQ,UAAU,IAAI,MAAM;AAGpC,SAAO,QAAQ,YAAY,QAAQ,CAAC,aAAa;AAE7C,WAAO,cAAc,IAAI,YAAY,0BAA0B;AAAA,MAC3D,QAAQ,EAAE,UAAU,UAAU;AAAA,IAClC,CAAC,CAAC;AAAA,EACN,CAAC;AACL,CAAC;AAED,QAAQ,IAAI,qEAAqE;",
  "names": []
}
